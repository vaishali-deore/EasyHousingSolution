<app-header></app-header>
<div class="auth-container">
    <h2>Sign Up</h2>
    
    <form (ngSubmit)="signup()">  
      <div class="form-grid">
        
        <div>
          <label>Username</label>
          <input type="text" [(ngModel)]="userName" name="userName" placeholder="Username" 
            [ngClass]="{'error-border': isSubmitted && !userName.trim()}" required>
        </div>

        <div>
          <label>Password</label>
          <input type="password" [(ngModel)]="password" name="password" placeholder="Password" 
            [ngClass]="{'error-border': isSubmitted && !password.trim()}" required>
        </div>

        <div>
          <label>First Name</label>
          <input type="text" [(ngModel)]="firstName" name="firstName" placeholder="First Name" 
            [ngClass]="{'error-border': isSubmitted && !firstName.trim()}" required>
        </div>

        <div>
          <label>Last Name</label>
          <input type="text" [(ngModel)]="lastName" name="lastName" placeholder="Last Name" 
            [ngClass]="{'error-border': isSubmitted && !lastName.trim()}" required>
        </div>

        <div class="full-width">
          <label>Date of Birth</label>
          <input type="date" [(ngModel)]="dateofBirth" name="dateofBirth" 
            [ngClass]="{'error-border': isSubmitted && !dateofBirth}" required>
        </div>

        <div>
          <label>Phone Number</label>
          <input type="tel" [(ngModel)]="phoneNo" name="phoneNo" placeholder="Phone No" 
            [ngClass]="{'error-border': isSubmitted && !phoneNo.trim()}" required>
        </div>

        <div>
          <label>Email</label>
          <input type="email" [(ngModel)]="emailId" name="emailId" placeholder="Email" 
            [ngClass]="{'error-border': isSubmitted && !emailId.trim()}" required>
        </div>

        <div class="full-width">
          <label>Address</label>
          <input type="text" [(ngModel)]="address" name="address" placeholder="Address" 
            [ngClass]="{'error-border': isSubmitted && !address.trim()}" required>
        </div>

        <div>
          <label>State</label>
          <select [(ngModel)]="stateId" name="stateId" (change)="onStateChange($event)" 
            [ngClass]="{'error-border': isSubmitted && !stateId}" required>
            <option *ngFor="let state of states" [value]="state.id">{{ state.name }}</option>
          </select>
        </div>

        <div>
          <label>City</label>
          <select [(ngModel)]="cityId" name="cityId" 
            [ngClass]="{'error-border': isSubmitted && !cityId}" required>
            <option *ngFor="let city of filteredCities" [value]="city.id">{{ city.name }}</option>
          </select>
        </div>

        <div class="full-width">
          <label>User Type</label>
          <select [(ngModel)]="userType" name="userType" 
            [ngClass]="{'error-border': isSubmitted && !userType}" required>
            <option value="buyer">Buyer</option>
            <option value="seller">Seller</option>
          </select>
        </div>
      </div>

      <button type="submit" class="secondary-btn">Register</button>
    </form>

    <p class="redirect-text">Already have an account? <a (click)="goToSingIn()" routerLink="/login">Login here</a></p>
</div>
<app-footer></app-footer>
